$(function(){function e(){var e=$(window).height(),o=e-20-$("header").outerHeight()-$("nav").outerHeight()-$("footer").outerHeight();$("#map").css({height:o+"px"})}function o(e,o){o.setText(e.properties.name,{offset:20,attributes:{fill:"#EE9D9E","font-weight":"bold","font-size":"14"}})}function a(e,o){o.setText(e.properties.name,{center:!0,offset:20,attributes:{fill:"#0971B2","font-weight":"bold","font-size":"14"}})}function t(e,o){e.properties&&e.properties.popup&&o.bindPopup(e.properties.popup)}function r(e,o){return L.marker(o,{icon:L.icon({iconUrl:e.properties.icon,shadowUrl:"common/img/shadow.png",iconSize:[39,46],shadowSize:[31,25],shadowAnchor:[0,5],popupAnchor:[0,-20]})})}e(),$(window).resize(e);var n="35.800550",i="139.951673",p="",s=$(window).width();p=s<=768?15:16;var l=L.map("map").setView([n,i],p),u=(L.control.locate({layer:new L.LayerGroup,drawCircle:!1,keepCurrentZoomLevel:!0,icon:"fa fa-map-marker",follow:!0,showPopup:!0,strings:{title:"現在地",popup:"現在地"}}).addTo(l),{color:"#EE9D9E",fiilColor:"#EE9D9E",fillOpacity:.8}),d={color:"#0971B2",weight:"5",fillOpacity:1},c={color:"#E8580C",weight:"7",fillOpacity:1};L.geoJson(sakuradori,{onEachFeature:o,style:u}).addTo(l),L.geoJson(ukairo,{onEachFeature:a,style:d}).addTo(l);var h=L.geoJson(tyuou,{onEachFeature:t,pointToLayer:r}),g=L.geoJson(charity,{onEachFeature:t,pointToLayer:r}),y=L.geoJson(ekimae,{onEachFeature:t,pointToLayer:r}),m=L.geoJson(tentomura,{onEachFeature:t,pointToLayer:r}),E=L.geoJson(wakuwaku,{onEachFeature:t,pointToLayer:r}),T=L.geoJson(bloodDonation,{onEachFeature:t,pointToLayer:r}),f=L.geoJson(paradeTyuo,{style:c}),w=L.geoJson(paradeZen,{style:c}),x=L.geoJson(paradeGoko,{style:c}),J=L.geoJson(honbu,{onEachFeature:t,pointToLayer:r}),k=L.geoJson(tent3,{onEachFeature:t,pointToLayer:r}),v=L.geoJson(tent4,{onEachFeature:t,pointToLayer:r}),F=L.geoJson(tent5,{onEachFeature:t,pointToLayer:r}),C=L.geoJson(shelter,{onEachFeature:t,pointToLayer:r}),N=L.geoJson(toilet,{onEachFeature:t,pointToLayer:r}).addTo(l),S=(L.tileLayer.provider("OpenStreetMap").addTo(l),window.location.href.split("/").pop()),b=[{groupName:"イベント",expanded:!1,exclusive:!0,layers:{"中央ステージ":h,"チャリティライブ":g,"駅前ひろば":y,"テント村":m,"わくわくマーケット":E,"献血":T}},{groupName:"パレード",expanded:!1,layers:{"中央パレード":f,"全さくら通りパレード":w,"五香パレード":x}},{groupName:"テント・避難",expanded:!1,layers:{"本部テント":J,"3丁目テント":k,"4丁目テント":v,"5丁目テント":F,"緊急避難場所":C}},{groupName:"トイレ",expanded:!0,layers:{"仮設トイレ":N}}];"index_en.html"==S&&(b=[{groupName:"Event",expanded:!1,exclusive:!0,layers:{"Main Stage":h,"Charity Stage":g,"Station Square":y,"Tent Village":m,"Waku-Waku Market":E,"Blood Drive":T}},{groupName:"Parade",expanded:!1,layers:{"Central Parade Route":f,"Sakura Dori Parade Route ":w,"Goko Parade Route":x}},{groupName:"Help",expanded:!1,layers:{"Main Tent":J,"3Chome Tent":k,"4Chome Tent":v,"5Chome Tent":F,"Evac. Zone":C}},{groupName:"Toilets",expanded:!0,layers:{"temp. toilets":N}}]);var D={container_maxHeight:"500px",collapsed:!1,exclusive:!1,position:"topright"},P=L.Control.styledLayerControl("",b,D);l.addControl(P)});
