$(function(){function e(){var e=$(window).height(),o=e-20-$("header").outerHeight()-$("nav").outerHeight()-$("footer").outerHeight();$("#map").css({height:o+"px"})}function o(e,o){o.setText(e.properties.name,{center:!0,offset:20,attributes:{fill:"#F15662","font-weight":"bold","font-size":"14"}})}function a(e,o){o.setText(e.properties.name,{center:!0,offset:20,attributes:{fill:"#0971B2","font-weight":"bold","font-size":"14"}})}function t(e,o){e.properties&&e.properties.popup&&o.bindPopup(e.properties.popup)}function r(e,o){return L.marker(o,{icon:L.icon({iconUrl:e.properties.icon,shadowUrl:"common/img/shadow.png",iconSize:[39,46],shadowSize:[31,25],shadowAnchor:[0,5],popupAnchor:[0,-20]})})}e(),$(window).resize(e);var n="35.800550",i="139.951673",p="",l=$(window).width();p=l<=768?15:16;var s=L.map("map").setView([n,i],p),u=(L.control.locate({layer:new L.LayerGroup,drawCircle:!1,keepCurrentZoomLevel:!0,icon:"fa fa-map-marker",follow:!0,showPopup:!0,strings:{title:"現在地",popup:"現在地"}}).addTo(s),{color:"#EE9D9E",fiilColor:"#EE9D9E",fillOpacity:.8}),d={color:"#0971B2",weight:"5",fillOpacity:1},c={color:"#E8580C",weight:"7",fillOpacity:1},h={color:"#EE9D9E",fiilColor:"#EE9D9E",fillOpacity:.8};L.geoJson(sakuradori,{style:u}).addTo(s),L.geoJson(sakuradoriText,{onEachFeature:o,style:h}).addTo(s),L.geoJson(ukairo,{onEachFeature:a,style:d}).addTo(s);var g=L.geoJson(tyuou,{onEachFeature:t,pointToLayer:r}),y=L.geoJson(charity,{onEachFeature:t,pointToLayer:r}),E=L.geoJson(ekimae,{onEachFeature:t,pointToLayer:r}),m=L.geoJson(tentomura,{onEachFeature:t,pointToLayer:r}),T=L.geoJson(wakuwaku,{onEachFeature:t,pointToLayer:r}),f=L.geoJson(bloodDonation,{onEachFeature:t,pointToLayer:r}),w=L.geoJson(paradeTyuo,{style:c}),x=L.geoJson(paradeZen,{style:c}),J=L.geoJson(paradeGoko,{style:c}),k=L.geoJson(honbu,{onEachFeature:t,pointToLayer:r}),F=L.geoJson(tent3,{onEachFeature:t,pointToLayer:r}),v=L.geoJson(tent4,{onEachFeature:t,pointToLayer:r}),C=L.geoJson(tent5,{onEachFeature:t,pointToLayer:r}),N=L.geoJson(shelter,{onEachFeature:t,pointToLayer:r}),S=L.geoJson(toilet,{onEachFeature:t,pointToLayer:r}).addTo(s),b=(L.tileLayer.provider("OpenStreetMap").addTo(s),window.location.href.split("/").pop()),D=[{groupName:"イベント",expanded:!1,exclusive:!0,layers:{"中央ステージ":g,"チャリティライブ":y,"駅前ひろば":E,"テント村":m,"わくわくマーケット":T,"献血":f}},{groupName:"パレード",expanded:!1,layers:{"中央パレード":w,"全さくら通りパレード":x,"五香パレード":J}},{groupName:"テント・避難",expanded:!1,layers:{"本部テント":k,"3丁目テント":F,"4丁目テント":v,"5丁目テント":C,"緊急避難場所":N}},{groupName:"トイレ",expanded:!0,layers:{"仮設トイレ":S}}];"index_en.html"==b&&(D=[{groupName:"Event",expanded:!1,exclusive:!0,layers:{"Main Stage":g,"Charity Stage":y,"Station Square":E,"Tent Village":m,"Waku-Waku Market":T,"Blood Drive":f}},{groupName:"Parade",expanded:!1,layers:{"Central Parade Route":w,"Sakura Dori Parade Route ":x,"Goko Parade Route":J}},{groupName:"Help",expanded:!1,layers:{"Main Tent":k,"3Chome Tent":F,"4Chome Tent":v,"5Chome Tent":C,"Evac. Zone":N}},{groupName:"Toilets",expanded:!0,layers:{"temp. toilets":S}}]);var P={container_maxHeight:"500px",collapsed:!1,exclusive:!1,position:"topright"},z=L.Control.styledLayerControl("",D,P);s.addControl(z)});
